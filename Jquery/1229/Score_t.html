<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Score Exam</title>
</head>

<body>
    <script>
        let student = {
            score: [],
            good: 0,   // 0으로 초기화 > 자동으로 type이 Number가 됨
            avg: 0,    // 평균도 마찬가지

            // 1. subject_score(sc) - > sc :: 성적을 매개변수로 받음
            subject_score: function (sc) {
                // 해당 과목이 40점 이상이면 good에 1 추가
                if (sc >= 40) {
                    this.good++;    // 자바스크립트에서 this처럼 명시를 안해주면 에러가 생김
                    // 특정 과목이 과락이 되지 않으면 good 1 추가
                }
            },
            // 2. sum_score()  :: 총 과목 평균 판단 메소드, 총 평균이 60점 이상이면 good에 1 추가한다.
            sum_score: function () {
                for (let i = 0; i < 5; i++) {
                    this.avg += this.score[i];   // 총 합계 우선 구해주고
                }
                this.avg /= 5;   // 과목수인 5로 나누어 평균값 구함 

                if (this.avg >= 60) {
                    this.good++;    // 총 평균이 60점을 넘기면 good 1 추가
                }
            },

            // 과락이 되지 않았는가에서 5개의 good을 받고
            // 총점이 기준점을 넘기는가에서 1개의 good을 받아서 
            // 합격하기 위해서는 총 6개의 good이 필요하다.
            print: function () {
                // 1) 모든 과목의 점수 출력
                for (let i = 0; i < 5; i++) {
                    document.write(`${i + 1}과목 점수는 ${this.score[i]}점입니다.` + "<br>");
                }

                // 2) 총 평균의 점수 출력 
                document.write(`총 평균은 ${this.avg}점 입니다.` + "<br>");

                // 3) 합불 여부 출력
                if (good === 6) {
                    document.write("축하드립니다. 정처기 필기 시험에 합격하였습니다.");
                }
                else {
                    document.write("정처기 필기 시험에 불합격하였습니다.");
                }
            }
        }

        /* 한 학생의 정보처리기사 필기 시험의 점수에 대해 입력을 받고,
     메소드를 적절히 사용하여 합격 여부를 확인하라.
     (정보처리기사는 5개 과목이 40점 이상,
     총 과목 평균이 60점 이상이어야 한다.) */
        for (let i = 0; i < 5; i++) {
            // 객체의 Student 안에 있는 score 배열에 순차적으로 과목 점수를 입력 받음
            student.score[i]= Number(prompt(`${i+1}과목 점수를 입력해주세요.`), 0);
            student.subject_score(student.score[i]);    // 과락 여부 바로 확인
        }
        student.sum_score();    // "평균 구함"과 동시에 총점에 대한 합불 여부 확인
        student.print();
    </script>
</body>

</html>